{"version":3,"file":"main-DtRZQYqv.js","sources":["../../src/cameras/CameraController.js","../../src/lighting/LightingSystem.js","../../src/loaders/AssetManager.js","../../src/components/HeroScene.js","../../src/PortfolioApp.js","../../src/main.js","../../script.js"],"sourcesContent":["/**\n * CameraController - Advanced camera management and animations\n * Handles orbital controls, cinematic paths, and smooth transitions\n *\n * @enterprise-pattern Strategy Pattern (different camera modes)\n * @responsibility Camera positioning, movement, transitions\n */\n\nimport * as THREE from 'three';\nimport { EventBus } from '../core/EventBus.js';\n\nexport class CameraController {\n    /**\n     * @param {THREE.Camera} camera\n     * @param {Object} options\n     */\n    constructor(camera, options = {}) {\n        this.camera = camera;\n        this.eventBus = EventBus.getInstance();\n\n        // Camera settings\n        this.fov = options.fov || 75;\n        this.near = options.near || 0.1;\n        this.far = options.far || 1000;\n\n        // Movement settings\n        this.smoothing = options.smoothing || 0.1;\n        this.targetPosition = new THREE.Vector3();\n        this.targetLookAt = new THREE.Vector3();\n        this.currentLookAt = new THREE.Vector3();\n\n        // Scroll-based movement\n        this.scrollSensitivity = options.scrollSensitivity || 0.001;\n        this.isScrollControlled = options.scrollControlled || false;\n\n        // Cinematic paths\n        this.activePath = null;\n        this.pathProgress = 0;\n        this.isPlayingPath = false;\n\n        // Mouse parallax\n        this.enableParallax = options.parallax || false;\n        this.parallaxStrength = options.parallaxStrength || 0.02;\n        this.mousePosition = new THREE.Vector2();\n\n        // Initialize camera position\n        if (options.position) {\n            this.camera.position.copy(options.position);\n            this.targetPosition.copy(options.position);\n        }\n\n        if (options.lookAt) {\n            this.camera.lookAt(options.lookAt);\n            this.targetLookAt.copy(options.lookAt);\n            this.currentLookAt.copy(options.lookAt);\n        }\n\n        this.setupEventListeners();\n    }\n\n    /**\n     * Setup event listeners for camera control\n     */\n    setupEventListeners() {\n        // Mouse parallax effect\n        if (this.enableParallax) {\n            window.addEventListener('mousemove', this.handleMouseMove.bind(this));\n        }\n\n        // Scroll control\n        if (this.isScrollControlled) {\n            window.addEventListener('scroll', this.handleScroll.bind(this));\n        }\n    }\n\n    /**\n     * Handle mouse movement for parallax effect\n     * @param {MouseEvent} event\n     */\n    handleMouseMove(event) {\n        this.mousePosition.x = (event.clientX / window.innerWidth) * 2 - 1;\n        this.mousePosition.y = -(event.clientY / window.innerHeight) * 2 + 1;\n    }\n\n    /**\n     * Handle scroll for camera movement\n     */\n    handleScroll() {\n        const scrollY = window.scrollY;\n        this.eventBus.emit('camera:scroll', { scrollY });\n    }\n\n    /**\n     * Smoothly move camera to target position\n     * @param {THREE.Vector3} position\n     * @param {number} duration - Duration in ms\n     * @returns {Promise}\n     */\n    moveTo(position, duration = 1000) {\n        return new Promise((resolve) => {\n            this.targetPosition.copy(position);\n\n            if (duration === 0) {\n                this.camera.position.copy(position);\n                resolve();\n                return;\n            }\n\n            const startTime = performance.now();\n            const startPosition = this.camera.position.clone();\n\n            const animate = (currentTime) => {\n                const elapsed = currentTime - startTime;\n                const progress = Math.min(elapsed / duration, 1);\n\n                // Easing function (ease-in-out cubic)\n                const eased = progress < 0.5\n                    ? 4 * progress * progress * progress\n                    : 1 - Math.pow(-2 * progress + 2, 3) / 2;\n\n                this.camera.position.lerpVectors(startPosition, position, eased);\n\n                if (progress < 1) {\n                    requestAnimationFrame(animate);\n                } else {\n                    this.eventBus.emit('camera:move-complete', { position });\n                    resolve();\n                }\n            };\n\n            requestAnimationFrame(animate);\n        });\n    }\n\n    /**\n     * Smoothly look at target\n     * @param {THREE.Vector3} target\n     * @param {number} duration - Duration in ms\n     * @returns {Promise}\n     */\n    lookAtSmooth(target, duration = 1000) {\n        return new Promise((resolve) => {\n            this.targetLookAt.copy(target);\n\n            if (duration === 0) {\n                this.camera.lookAt(target);\n                this.currentLookAt.copy(target);\n                resolve();\n                return;\n            }\n\n            const startTime = performance.now();\n            const startLookAt = this.currentLookAt.clone();\n\n            const animate = (currentTime) => {\n                const elapsed = currentTime - startTime;\n                const progress = Math.min(elapsed / duration, 1);\n\n                const eased = progress < 0.5\n                    ? 4 * progress * progress * progress\n                    : 1 - Math.pow(-2 * progress + 2, 3) / 2;\n\n                this.currentLookAt.lerpVectors(startLookAt, target, eased);\n                this.camera.lookAt(this.currentLookAt);\n\n                if (progress < 1) {\n                    requestAnimationFrame(animate);\n                } else {\n                    this.eventBus.emit('camera:lookat-complete', { target });\n                    resolve();\n                }\n            };\n\n            requestAnimationFrame(animate);\n        });\n    }\n\n    /**\n     * Create cinematic camera path from curve\n     * @param {THREE.Curve} curve - Path curve\n     * @param {Array<THREE.Vector3>} lookAtPoints - Look at targets along path\n     */\n    createCinematicPath(curve, lookAtPoints = []) {\n        this.activePath = {\n            curve,\n            lookAtPoints,\n            duration: 5000 // Default 5 seconds\n        };\n    }\n\n    /**\n     * Play cinematic path\n     * @param {number} duration - Duration in ms\n     * @returns {Promise}\n     */\n    playCinematicPath(duration = null) {\n        if (!this.activePath) {\n            console.warn('No active path to play');\n            return Promise.resolve();\n        }\n\n        return new Promise((resolve) => {\n            const pathDuration = duration || this.activePath.duration;\n            const startTime = performance.now();\n            this.isPlayingPath = true;\n\n            const animate = (currentTime) => {\n                if (!this.isPlayingPath) {\n                    resolve();\n                    return;\n                }\n\n                const elapsed = currentTime - startTime;\n                this.pathProgress = Math.min(elapsed / pathDuration, 1);\n\n                // Get position on curve\n                const position = this.activePath.curve.getPoint(this.pathProgress);\n                this.camera.position.copy(position);\n\n                // Interpolate look at target\n                if (this.activePath.lookAtPoints.length > 0) {\n                    const lookAtIndex = Math.floor(this.pathProgress * (this.activePath.lookAtPoints.length - 1));\n                    const lookAt = this.activePath.lookAtPoints[lookAtIndex];\n                    if (lookAt) {\n                        this.camera.lookAt(lookAt);\n                    }\n                }\n\n                if (this.pathProgress < 1) {\n                    requestAnimationFrame(animate);\n                } else {\n                    this.isPlayingPath = false;\n                    this.eventBus.emit('camera:path-complete');\n                    resolve();\n                }\n            };\n\n            requestAnimationFrame(animate);\n        });\n    }\n\n    /**\n     * Stop cinematic path playback\n     */\n    stopCinematicPath() {\n        this.isPlayingPath = false;\n    }\n\n    /**\n     * Update camera (called each frame)\n     * @param {number} deltaTime\n     */\n    update(deltaTime) {\n        // Apply mouse parallax\n        if (this.enableParallax && !this.isPlayingPath) {\n            const parallaxX = this.mousePosition.x * this.parallaxStrength;\n            const parallaxY = this.mousePosition.y * this.parallaxStrength;\n\n            this.camera.position.x += (parallaxX - this.camera.position.x) * this.smoothing;\n            this.camera.position.y += (parallaxY - this.camera.position.y) * this.smoothing;\n        }\n\n        // Smooth camera movement to target\n        if (!this.isPlayingPath) {\n            this.camera.position.lerp(this.targetPosition, this.smoothing);\n        }\n    }\n\n    /**\n     * Create orbital rotation around target\n     * @param {THREE.Vector3} target - Center point\n     * @param {number} radius - Distance from target\n     * @param {number} speed - Rotation speed\n     */\n    orbitAround(target, radius, speed = 0.001) {\n        const time = performance.now() * speed;\n        this.camera.position.x = target.x + Math.cos(time) * radius;\n        this.camera.position.z = target.z + Math.sin(time) * radius;\n        this.camera.lookAt(target);\n    }\n\n    /**\n     * Shake camera effect\n     * @param {number} intensity - Shake intensity\n     * @param {number} duration - Duration in ms\n     * @returns {Promise}\n     */\n    shake(intensity = 0.1, duration = 500) {\n        return new Promise((resolve) => {\n            const startTime = performance.now();\n            const originalPosition = this.camera.position.clone();\n\n            const animate = (currentTime) => {\n                const elapsed = currentTime - startTime;\n                const progress = elapsed / duration;\n\n                if (progress < 1) {\n                    const shake = intensity * (1 - progress);\n                    this.camera.position.x = originalPosition.x + (Math.random() - 0.5) * shake;\n                    this.camera.position.y = originalPosition.y + (Math.random() - 0.5) * shake;\n                    this.camera.position.z = originalPosition.z + (Math.random() - 0.5) * shake;\n\n                    requestAnimationFrame(animate);\n                } else {\n                    this.camera.position.copy(originalPosition);\n                    resolve();\n                }\n            };\n\n            requestAnimationFrame(animate);\n        });\n    }\n\n    /**\n     * Reset camera to default position\n     * @param {number} duration\n     */\n    reset(duration = 1000) {\n        return Promise.all([\n            this.moveTo(new THREE.Vector3(0, 0, 5), duration),\n            this.lookAtSmooth(new THREE.Vector3(0, 0, 0), duration)\n        ]);\n    }\n\n    /**\n     * Cleanup\n     */\n    dispose() {\n        if (this.enableParallax) {\n            window.removeEventListener('mousemove', this.handleMouseMove.bind(this));\n        }\n\n        if (this.isScrollControlled) {\n            window.removeEventListener('scroll', this.handleScroll.bind(this));\n        }\n\n        this.stopCinematicPath();\n    }\n}\n","/**\n * LightingSystem - Dynamic lighting management\n * Handles ambient, directional, point, and spot lights with presets\n *\n * @enterprise-pattern Factory Pattern (light creation)\n * @responsibility Light management, presets, dynamic updates\n */\n\nimport * as THREE from 'three';\nimport { EventBus } from '../core/EventBus.js';\n\nexport class LightingSystem {\n    /**\n     * @param {THREE.Scene} scene\n     * @param {Object} options\n     */\n    constructor(scene, options = {}) {\n        this.scene = scene;\n        this.eventBus = EventBus.getInstance();\n\n        this.lights = new Map();\n        this.lightHelpers = new Map();\n        this.showHelpers = options.showHelpers || false;\n\n        // Lighting presets\n        this.presets = {\n            DEFAULT: {\n                ambient: { color: 0xffffff, intensity: 0.4 },\n                directional: {\n                    color: 0xffffff,\n                    intensity: 0.8,\n                    position: { x: 5, y: 5, z: 5 },\n                    castShadow: true\n                }\n            },\n            DRAMATIC: {\n                ambient: { color: 0x404040, intensity: 0.2 },\n                directional: {\n                    color: 0xffffff,\n                    intensity: 1.2,\n                    position: { x: -5, y: 10, z: 5 },\n                    castShadow: true\n                },\n                point: {\n                    color: 0xfacc15,\n                    intensity: 0.8,\n                    position: { x: 0, y: 3, z: 0 },\n                    distance: 10\n                }\n            },\n            SUNSET: {\n                ambient: { color: 0xff9966, intensity: 0.3 },\n                directional: {\n                    color: 0xff6347,\n                    intensity: 1.0,\n                    position: { x: 10, y: 2, z: 5 },\n                    castShadow: true\n                },\n                hemisphere: {\n                    skyColor: 0xff6347,\n                    groundColor: 0x1a1a2e,\n                    intensity: 0.5\n                }\n            },\n            NEON: {\n                ambient: { color: 0x0a0a0a, intensity: 0.1 },\n                point: [\n                    {\n                        color: 0xff1493,\n                        intensity: 2.0,\n                        position: { x: -3, y: 2, z: 2 },\n                        distance: 8\n                    },\n                    {\n                        color: 0x00ffff,\n                        intensity: 2.0,\n                        position: { x: 3, y: 2, z: -2 },\n                        distance: 8\n                    }\n                ]\n            }\n        };\n\n        this.currentPreset = 'DEFAULT';\n    }\n\n    /**\n     * Create ambient light\n     * @param {string} name\n     * @param {number} color\n     * @param {number} intensity\n     * @returns {THREE.AmbientLight}\n     */\n    createAmbientLight(name, color = 0xffffff, intensity = 0.5) {\n        const light = new THREE.AmbientLight(color, intensity);\n        this.addLight(name, light);\n        return light;\n    }\n\n    /**\n     * Create directional light with shadow support\n     * @param {string} name\n     * @param {number} color\n     * @param {number} intensity\n     * @param {THREE.Vector3} position\n     * @param {boolean} castShadow\n     * @returns {THREE.DirectionalLight}\n     */\n    createDirectionalLight(name, color = 0xffffff, intensity = 1, position = new THREE.Vector3(5, 5, 5), castShadow = true) {\n        const light = new THREE.DirectionalLight(color, intensity);\n        light.position.copy(position);\n\n        if (castShadow) {\n            light.castShadow = true;\n            light.shadow.mapSize.width = 2048;\n            light.shadow.mapSize.height = 2048;\n            light.shadow.camera.near = 0.5;\n            light.shadow.camera.far = 50;\n            light.shadow.camera.left = -10;\n            light.shadow.camera.right = 10;\n            light.shadow.camera.top = 10;\n            light.shadow.camera.bottom = -10;\n            light.shadow.bias = -0.0001;\n        }\n\n        this.addLight(name, light);\n\n        // Add helper if enabled\n        if (this.showHelpers) {\n            const helper = new THREE.DirectionalLightHelper(light, 1);\n            this.scene.add(helper);\n            this.lightHelpers.set(name, helper);\n        }\n\n        return light;\n    }\n\n    /**\n     * Create point light\n     * @param {string} name\n     * @param {number} color\n     * @param {number} intensity\n     * @param {THREE.Vector3} position\n     * @param {number} distance\n     * @returns {THREE.PointLight}\n     */\n    createPointLight(name, color = 0xffffff, intensity = 1, position = new THREE.Vector3(0, 0, 0), distance = 0) {\n        const light = new THREE.PointLight(color, intensity, distance);\n        light.position.copy(position);\n\n        this.addLight(name, light);\n\n        // Add helper if enabled\n        if (this.showHelpers) {\n            const helper = new THREE.PointLightHelper(light, 0.5);\n            this.scene.add(helper);\n            this.lightHelpers.set(name, helper);\n        }\n\n        return light;\n    }\n\n    /**\n     * Create spot light\n     * @param {string} name\n     * @param {number} color\n     * @param {number} intensity\n     * @param {THREE.Vector3} position\n     * @param {THREE.Vector3} target\n     * @returns {THREE.SpotLight}\n     */\n    createSpotLight(name, color = 0xffffff, intensity = 1, position = new THREE.Vector3(0, 5, 0), target = new THREE.Vector3(0, 0, 0)) {\n        const light = new THREE.SpotLight(color, intensity);\n        light.position.copy(position);\n        light.target.position.copy(target);\n        light.angle = Math.PI / 6;\n        light.penumbra = 0.2;\n        light.castShadow = true;\n\n        this.addLight(name, light);\n        this.scene.add(light.target);\n\n        // Add helper if enabled\n        if (this.showHelpers) {\n            const helper = new THREE.SpotLightHelper(light);\n            this.scene.add(helper);\n            this.lightHelpers.set(name, helper);\n        }\n\n        return light;\n    }\n\n    /**\n     * Create hemisphere light\n     * @param {string} name\n     * @param {number} skyColor\n     * @param {number} groundColor\n     * @param {number} intensity\n     * @returns {THREE.HemisphereLight}\n     */\n    createHemisphereLight(name, skyColor = 0xffffff, groundColor = 0x444444, intensity = 0.5) {\n        const light = new THREE.HemisphereLight(skyColor, groundColor, intensity);\n        this.addLight(name, light);\n\n        // Add helper if enabled\n        if (this.showHelpers) {\n            const helper = new THREE.HemisphereLightHelper(light, 1);\n            this.scene.add(helper);\n            this.lightHelpers.set(name, helper);\n        }\n\n        return light;\n    }\n\n    /**\n     * Add light to scene and registry\n     * @param {string} name\n     * @param {THREE.Light} light\n     */\n    addLight(name, light) {\n        this.lights.set(name, light);\n        this.scene.add(light);\n        this.eventBus.emit('lighting:light-added', { name, light });\n    }\n\n    /**\n     * Remove light from scene\n     * @param {string} name\n     */\n    removeLight(name) {\n        const light = this.lights.get(name);\n        if (light) {\n            this.scene.remove(light);\n            this.lights.delete(name);\n\n            // Remove helper\n            const helper = this.lightHelpers.get(name);\n            if (helper) {\n                this.scene.remove(helper);\n                this.lightHelpers.delete(name);\n            }\n\n            this.eventBus.emit('lighting:light-removed', { name });\n        }\n    }\n\n    /**\n     * Get light by name\n     * @param {string} name\n     * @returns {THREE.Light|null}\n     */\n    getLight(name) {\n        return this.lights.get(name) || null;\n    }\n\n    /**\n     * Update light properties\n     * @param {string} name\n     * @param {Object} properties\n     */\n    updateLight(name, properties) {\n        const light = this.lights.get(name);\n        if (!light) return;\n\n        if (properties.color !== undefined) {\n            light.color.setHex(properties.color);\n        }\n        if (properties.intensity !== undefined) {\n            light.intensity = properties.intensity;\n        }\n        if (properties.position !== undefined) {\n            light.position.set(properties.position.x, properties.position.y, properties.position.z);\n        }\n\n        this.eventBus.emit('lighting:light-updated', { name, properties });\n    }\n\n    /**\n     * Apply lighting preset\n     * @param {string} presetName\n     */\n    applyPreset(presetName) {\n        const preset = this.presets[presetName];\n        if (!preset) {\n            console.warn(`Preset \"${presetName}\" not found`);\n            return;\n        }\n\n        // Clear existing lights\n        this.clearLights();\n\n        // Apply ambient light\n        if (preset.ambient) {\n            this.createAmbientLight(\n                'ambient',\n                preset.ambient.color,\n                preset.ambient.intensity\n            );\n        }\n\n        // Apply directional light\n        if (preset.directional) {\n            const pos = preset.directional.position;\n            this.createDirectionalLight(\n                'directional',\n                preset.directional.color,\n                preset.directional.intensity,\n                new THREE.Vector3(pos.x, pos.y, pos.z),\n                preset.directional.castShadow\n            );\n        }\n\n        // Apply point lights\n        if (preset.point) {\n            if (Array.isArray(preset.point)) {\n                preset.point.forEach((point, index) => {\n                    const pos = point.position;\n                    this.createPointLight(\n                        `point-${index}`,\n                        point.color,\n                        point.intensity,\n                        new THREE.Vector3(pos.x, pos.y, pos.z),\n                        point.distance\n                    );\n                });\n            } else {\n                const pos = preset.point.position;\n                this.createPointLight(\n                    'point',\n                    preset.point.color,\n                    preset.point.intensity,\n                    new THREE.Vector3(pos.x, pos.y, pos.z),\n                    preset.point.distance\n                );\n            }\n        }\n\n        // Apply hemisphere light\n        if (preset.hemisphere) {\n            this.createHemisphereLight(\n                'hemisphere',\n                preset.hemisphere.skyColor,\n                preset.hemisphere.groundColor,\n                preset.hemisphere.intensity\n            );\n        }\n\n        this.currentPreset = presetName;\n        this.eventBus.emit('lighting:preset-applied', { presetName });\n    }\n\n    /**\n     * Animate light intensity\n     * @param {string} name\n     * @param {number} targetIntensity\n     * @param {number} duration\n     * @returns {Promise}\n     */\n    animateIntensity(name, targetIntensity, duration = 1000) {\n        const light = this.lights.get(name);\n        if (!light) return Promise.resolve();\n\n        return new Promise((resolve) => {\n            const startIntensity = light.intensity;\n            const startTime = performance.now();\n\n            const animate = (currentTime) => {\n                const elapsed = currentTime - startTime;\n                const progress = Math.min(elapsed / duration, 1);\n\n                light.intensity = startIntensity + (targetIntensity - startIntensity) * progress;\n\n                if (progress < 1) {\n                    requestAnimationFrame(animate);\n                } else {\n                    resolve();\n                }\n            };\n\n            requestAnimationFrame(animate);\n        });\n    }\n\n    /**\n     * Clear all lights\n     */\n    clearLights() {\n        this.lights.forEach((light, name) => {\n            this.removeLight(name);\n        });\n    }\n\n    /**\n     * Update helpers (if enabled)\n     */\n    updateHelpers() {\n        this.lightHelpers.forEach((helper) => {\n            if (helper.update) {\n                helper.update();\n            }\n        });\n    }\n\n    /**\n     * Cleanup\n     */\n    dispose() {\n        this.clearLights();\n        this.lightHelpers.clear();\n    }\n}\n","/**\n * AssetManager - Centralized asset loading with caching\n * Handles 3D models, textures, fonts with progress tracking\n *\n * @enterprise-pattern Singleton + Strategy Pattern\n * @responsibility Asset loading, caching, progress tracking\n */\n\nimport * as THREE from 'three';\nimport { EventBus } from '../core/EventBus.js';\n\nexport class AssetManager {\n    static instance = null;\n\n    /**\n     * Singleton accessor\n     * @returns {AssetManager}\n     */\n    static getInstance() {\n        if (!AssetManager.instance) {\n            AssetManager.instance = new AssetManager();\n        }\n        return AssetManager.instance;\n    }\n\n    constructor() {\n        if (AssetManager.instance) {\n            throw new Error('AssetManager is a singleton. Use getInstance()');\n        }\n\n        this.eventBus = EventBus.getInstance();\n\n        // Asset caches\n        this.textures = new Map();\n        this.models = new Map();\n        this.fonts = new Map();\n        this.materials = new Map();\n\n        // Loaders\n        this.textureLoader = new THREE.TextureLoader();\n        this.cubeTextureLoader = new THREE.CubeTextureLoader();\n\n        // Loading state\n        this.totalAssets = 0;\n        this.loadedAssets = 0;\n        this.failedAssets = [];\n\n        // Loading manager\n        this.loadingManager = new THREE.LoadingManager(\n            this.onLoadComplete.bind(this),\n            this.onProgress.bind(this),\n            this.onError.bind(this)\n        );\n\n        // Update loaders to use loading manager\n        this.textureLoader = new THREE.TextureLoader(this.loadingManager);\n        this.cubeTextureLoader = new THREE.CubeTextureLoader(this.loadingManager);\n    }\n\n    /**\n     * Load texture with caching\n     * @param {string} name - Cache key\n     * @param {string} url - Texture URL\n     * @param {Object} options - Texture options\n     * @returns {Promise<THREE.Texture>}\n     */\n    loadTexture(name, url, options = {}) {\n        // Return cached texture if exists\n        if (this.textures.has(name)) {\n            return Promise.resolve(this.textures.get(name));\n        }\n\n        return new Promise((resolve, reject) => {\n            this.totalAssets++;\n\n            this.textureLoader.load(\n                url,\n                (texture) => {\n                    // Apply options\n                    if (options.wrapS) texture.wrapS = options.wrapS;\n                    if (options.wrapT) texture.wrapT = options.wrapT;\n                    if (options.repeat) texture.repeat.set(options.repeat.x, options.repeat.y);\n                    if (options.encoding) texture.encoding = options.encoding;\n\n                    // Cache texture\n                    this.textures.set(name, texture);\n                    this.loadedAssets++;\n\n                    this.eventBus.emit('asset:texture-loaded', { name, url });\n                    resolve(texture);\n                },\n                undefined,\n                (error) => {\n                    this.failedAssets.push({ type: 'texture', name, url, error });\n                    this.eventBus.emit('asset:load-error', { type: 'texture', name, error });\n                    reject(error);\n                }\n            );\n        });\n    }\n\n    /**\n     * Load cube texture (for skybox/environment)\n     * @param {string} name\n     * @param {Array<string>} urls - 6 texture URLs [px, nx, py, ny, pz, nz]\n     * @returns {Promise<THREE.CubeTexture>}\n     */\n    loadCubeTexture(name, urls) {\n        if (this.textures.has(name)) {\n            return Promise.resolve(this.textures.get(name));\n        }\n\n        return new Promise((resolve, reject) => {\n            this.totalAssets++;\n\n            this.cubeTextureLoader.load(\n                urls,\n                (texture) => {\n                    this.textures.set(name, texture);\n                    this.loadedAssets++;\n\n                    this.eventBus.emit('asset:cube-texture-loaded', { name });\n                    resolve(texture);\n                },\n                undefined,\n                (error) => {\n                    this.failedAssets.push({ type: 'cube-texture', name, urls, error });\n                    this.eventBus.emit('asset:load-error', { type: 'cube-texture', name, error });\n                    reject(error);\n                }\n            );\n        });\n    }\n\n    /**\n     * Create and cache procedural texture\n     * @param {string} name\n     * @param {Function} generator - Function that returns canvas element\n     * @returns {THREE.CanvasTexture}\n     */\n    createProceduralTexture(name, generator) {\n        if (this.textures.has(name)) {\n            return this.textures.get(name);\n        }\n\n        const canvas = generator();\n        const texture = new THREE.CanvasTexture(canvas);\n        this.textures.set(name, texture);\n\n        this.eventBus.emit('asset:procedural-texture-created', { name });\n        return texture;\n    }\n\n    /**\n     * Create and cache material\n     * @param {string} name\n     * @param {THREE.Material} material\n     * @returns {THREE.Material}\n     */\n    cacheMaterial(name, material) {\n        this.materials.set(name, material);\n        return material;\n    }\n\n    /**\n     * Get cached material\n     * @param {string} name\n     * @returns {THREE.Material|null}\n     */\n    getMaterial(name) {\n        return this.materials.get(name) || null;\n    }\n\n    /**\n     * Load multiple assets in parallel\n     * @param {Array<Object>} assets - Array of asset definitions\n     * @returns {Promise<Map>}\n     */\n    async loadAssets(assets) {\n        const promises = assets.map((asset) => {\n            switch (asset.type) {\n                case 'texture':\n                    return this.loadTexture(asset.name, asset.url, asset.options);\n                case 'cube-texture':\n                    return this.loadCubeTexture(asset.name, asset.urls);\n                default:\n                    return Promise.reject(new Error(`Unknown asset type: ${asset.type}`));\n            }\n        });\n\n        try {\n            await Promise.all(promises);\n            return this.getLoadedAssets();\n        } catch (error) {\n            console.error('Error loading assets:', error);\n            throw error;\n        }\n    }\n\n    /**\n     * Get all loaded assets\n     * @returns {Map}\n     */\n    getLoadedAssets() {\n        return new Map([\n            ...this.textures,\n            ...this.models,\n            ...this.fonts,\n            ...this.materials\n        ]);\n    }\n\n    /**\n     * Get loading progress\n     * @returns {number} Progress percentage (0-100)\n     */\n    getProgress() {\n        if (this.totalAssets === 0) return 100;\n        return (this.loadedAssets / this.totalAssets) * 100;\n    }\n\n    /**\n     * Check if all assets are loaded\n     * @returns {boolean}\n     */\n    isComplete() {\n        return this.totalAssets > 0 && this.loadedAssets === this.totalAssets;\n    }\n\n    /**\n     * Loading manager callbacks\n     */\n    onLoadComplete() {\n        this.eventBus.emit('asset:all-loaded', {\n            total: this.totalAssets,\n            loaded: this.loadedAssets,\n            failed: this.failedAssets.length\n        });\n    }\n\n    onProgress(url, itemsLoaded, itemsTotal) {\n        const progress = (itemsLoaded / itemsTotal) * 100;\n        this.eventBus.emit('asset:progress', {\n            url,\n            itemsLoaded,\n            itemsTotal,\n            progress\n        });\n    }\n\n    onError(url) {\n        console.error('Error loading asset:', url);\n        this.eventBus.emit('asset:error', { url });\n    }\n\n    /**\n     * Clear specific asset from cache\n     * @param {string} name\n     */\n    clearAsset(name) {\n        const texture = this.textures.get(name);\n        if (texture) {\n            texture.dispose();\n            this.textures.delete(name);\n        }\n\n        const material = this.materials.get(name);\n        if (material) {\n            material.dispose();\n            this.materials.delete(name);\n        }\n\n        this.eventBus.emit('asset:cleared', { name });\n    }\n\n    /**\n     * Clear all cached assets\n     */\n    clearAll() {\n        // Dispose textures\n        this.textures.forEach((texture) => {\n            texture.dispose();\n        });\n        this.textures.clear();\n\n        // Dispose materials\n        this.materials.forEach((material) => {\n            material.dispose();\n        });\n        this.materials.clear();\n\n        // Clear models and fonts\n        this.models.clear();\n        this.fonts.clear();\n\n        // Reset counters\n        this.totalAssets = 0;\n        this.loadedAssets = 0;\n        this.failedAssets = [];\n\n        this.eventBus.emit('asset:all-cleared');\n    }\n\n    /**\n     * Get memory usage stats\n     * @returns {Object}\n     */\n    getStats() {\n        return {\n            textures: this.textures.size,\n            materials: this.materials.size,\n            models: this.models.size,\n            fonts: this.fonts.size,\n            totalAssets: this.totalAssets,\n            loadedAssets: this.loadedAssets,\n            failedAssets: this.failedAssets.length,\n            progress: this.getProgress()\n        };\n    }\n\n    /**\n     * Cleanup\n     */\n    dispose() {\n        this.clearAll();\n    }\n}\n","/**\n * HeroScene - Immersive 3D hero section\n * Floating geometric shapes representing tech stack\n *\n * @enterprise-pattern Component Pattern\n * @responsibility Hero section 3D visualization\n */\n\nimport * as THREE from 'three';\nimport { EventBus } from '../core/EventBus.js';\n\nexport class HeroScene {\n    /**\n     * @param {THREE.Scene} scene\n     * @param {Object} options\n     */\n    constructor(scene, options = {}) {\n        this.scene = scene;\n        this.eventBus = EventBus.getInstance();\n\n        this.objects = [];\n        this.particleSystem = null;\n\n        // Configuration\n        this.techStack = options.techStack || [\n            { name: 'Python', color: 0x3776ab, shape: 'sphere' },\n            { name: 'C++', color: 0x00599c, shape: 'box' },\n            { name: 'JavaScript', color: 0xf7df1e, shape: 'octahedron' },\n            { name: 'PyTorch', color: 0xee4c2c, shape: 'torus' },\n            { name: 'SQL', color: 0x336791, shape: 'cylinder' },\n            { name: 'Git', color: 0xf05032, shape: 'dodecahedron' },\n            { name: 'HTML/CSS', color: 0xe34c26, shape: 'cone' }\n        ];\n\n        this.animationConfig = {\n            floatSpeed: 0.0005,\n            rotationSpeed: 0.001,\n            mouseInfluence: 0.05\n        };\n\n        this.mousePosition = new THREE.Vector2();\n        this.isInitialized = false;\n    }\n\n    /**\n     * Initialize hero scene\n     */\n    async initialize() {\n        if (this.isInitialized) return;\n\n        try {\n            // Create floating tech stack objects\n            this.createTechStackObjects();\n\n            // Create particle system\n            this.createParticleSystem();\n\n            // Setup event listeners\n            this.setupEventListeners();\n\n            this.isInitialized = true;\n            this.eventBus.emit('hero:initialized');\n\n            console.log('âœ… HeroScene initialized');\n        } catch (error) {\n            console.error('Failed to initialize HeroScene:', error);\n            this.eventBus.emit('hero:error', { error });\n        }\n    }\n\n    /**\n     * Create floating 3D objects for tech stack\n     */\n    createTechStackObjects() {\n        const group = new THREE.Group();\n\n        this.techStack.forEach((tech, index) => {\n            const geometry = this.createGeometry(tech.shape);\n            const material = new THREE.MeshStandardMaterial({\n                color: tech.color,\n                roughness: 0.3,\n                metalness: 0.7,\n                emissive: tech.color,\n                emissiveIntensity: 0.2\n            });\n\n            const mesh = new THREE.Mesh(geometry, material);\n\n            // Position in circular formation\n            const angle = (index / this.techStack.length) * Math.PI * 2;\n            const radius = 8;\n            mesh.position.x = Math.cos(angle) * radius;\n            mesh.position.z = Math.sin(angle) * radius;\n            mesh.position.y = (Math.random() - 0.5) * 4;\n\n            // Random rotation\n            mesh.rotation.x = Math.random() * Math.PI;\n            mesh.rotation.y = Math.random() * Math.PI;\n\n            // Store initial position for animation\n            mesh.userData.initialPosition = mesh.position.clone();\n            mesh.userData.floatOffset = Math.random() * Math.PI * 2;\n            mesh.userData.tech = tech;\n\n            mesh.castShadow = true;\n            mesh.receiveShadow = true;\n\n            group.add(mesh);\n            this.objects.push(mesh);\n        });\n\n        // Position group\n        group.position.set(5, 0, -10);\n        this.scene.add(group);\n        this.techGroup = group;\n    }\n\n    /**\n     * Create geometry based on shape type\n     * @param {string} shape\n     * @returns {THREE.BufferGeometry}\n     */\n    createGeometry(shape) {\n        const size = 0.8;\n\n        switch (shape) {\n            case 'sphere':\n                return new THREE.SphereGeometry(size, 32, 32);\n            case 'box':\n                return new THREE.BoxGeometry(size * 1.2, size * 1.2, size * 1.2);\n            case 'octahedron':\n                return new THREE.OctahedronGeometry(size);\n            case 'torus':\n                return new THREE.TorusGeometry(size * 0.7, size * 0.3, 16, 100);\n            case 'cylinder':\n                return new THREE.CylinderGeometry(size * 0.6, size * 0.6, size * 1.5, 32);\n            case 'dodecahedron':\n                return new THREE.DodecahedronGeometry(size);\n            case 'cone':\n                return new THREE.ConeGeometry(size * 0.7, size * 1.5, 32);\n            default:\n                return new THREE.SphereGeometry(size, 32, 32);\n        }\n    }\n\n    /**\n     * Create particle system for background ambiance\n     */\n    createParticleSystem() {\n        const particleCount = 1000;\n        const geometry = new THREE.BufferGeometry();\n        const positions = new Float32Array(particleCount * 3);\n        const colors = new Float32Array(particleCount * 3);\n\n        const color = new THREE.Color();\n\n        for (let i = 0; i < particleCount; i++) {\n            // Random positions in large sphere\n            const i3 = i * 3;\n            const radius = 30;\n            const theta = Math.random() * Math.PI * 2;\n            const phi = Math.random() * Math.PI;\n\n            positions[i3] = radius * Math.sin(phi) * Math.cos(theta);\n            positions[i3 + 1] = radius * Math.sin(phi) * Math.sin(theta);\n            positions[i3 + 2] = radius * Math.cos(phi);\n\n            // Random colors (gold to orange gradient)\n            color.setHSL(0.1 + Math.random() * 0.1, 0.8, 0.5);\n            colors[i3] = color.r;\n            colors[i3 + 1] = color.g;\n            colors[i3 + 2] = color.b;\n        }\n\n        geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n        geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));\n\n        const material = new THREE.PointsMaterial({\n            size: 0.1,\n            vertexColors: true,\n            transparent: true,\n            opacity: 0.6,\n            blending: THREE.AdditiveBlending\n        });\n\n        this.particleSystem = new THREE.Points(geometry, material);\n        this.scene.add(this.particleSystem);\n    }\n\n    /**\n     * Setup event listeners\n     */\n    setupEventListeners() {\n        window.addEventListener('mousemove', this.handleMouseMove.bind(this));\n        this.eventBus.on('scroll:update', this.handleScroll.bind(this));\n    }\n\n    /**\n     * Handle mouse movement\n     * @param {MouseEvent} event\n     */\n    handleMouseMove(event) {\n        this.mousePosition.x = (event.clientX / window.innerWidth) * 2 - 1;\n        this.mousePosition.y = -(event.clientY / window.innerHeight) * 2 + 1;\n    }\n\n    /**\n     * Handle scroll events\n     * @param {Object} data\n     */\n    handleScroll(data) {\n        if (!this.techGroup) return;\n\n        // Move scene based on scroll\n        const scrollProgress = data.scrollY / window.innerHeight;\n        this.techGroup.position.y = -scrollProgress * 5;\n        this.techGroup.rotation.y = scrollProgress * Math.PI * 0.5;\n    }\n\n    /**\n     * Update animation (called each frame)\n     * @param {number} time\n     */\n    update(time) {\n        if (!this.isInitialized) return;\n\n        // Animate tech stack objects\n        this.objects.forEach((obj) => {\n            // Floating animation\n            const floatOffset = obj.userData.floatOffset;\n            obj.position.y = obj.userData.initialPosition.y + Math.sin(time * this.animationConfig.floatSpeed + floatOffset) * 2;\n\n            // Rotation\n            obj.rotation.x += this.animationConfig.rotationSpeed;\n            obj.rotation.y += this.animationConfig.rotationSpeed * 1.5;\n\n            // Mouse influence\n            obj.position.x += (this.mousePosition.x * this.animationConfig.mouseInfluence - (obj.position.x - obj.userData.initialPosition.x)) * 0.05;\n            obj.position.z += (this.mousePosition.y * this.animationConfig.mouseInfluence - (obj.position.z - obj.userData.initialPosition.z)) * 0.05;\n        });\n\n        // Rotate particle system\n        if (this.particleSystem) {\n            this.particleSystem.rotation.y = time * 0.0001;\n            this.particleSystem.rotation.x = time * 0.00005;\n        }\n\n        // Rotate tech group\n        if (this.techGroup) {\n            this.techGroup.rotation.y += 0.0002;\n        }\n    }\n\n    /**\n     * Show hero scene with animation\n     * @returns {Promise}\n     */\n    show() {\n        return new Promise((resolve) => {\n            // Fade in animation\n            this.objects.forEach((obj, index) => {\n                setTimeout(() => {\n                    obj.visible = true;\n                    obj.scale.set(0, 0, 0);\n\n                    const animate = (startTime) => {\n                        const elapsed = performance.now() - startTime;\n                        const progress = Math.min(elapsed / 1000, 1);\n\n                        obj.scale.setScalar(progress);\n\n                        if (progress < 1) {\n                            requestAnimationFrame(() => animate(startTime));\n                        } else if (index === this.objects.length - 1) {\n                            resolve();\n                        }\n                    };\n\n                    requestAnimationFrame(() => animate(performance.now()));\n                }, index * 100);\n            });\n        });\n    }\n\n    /**\n     * Hide hero scene\n     * @returns {Promise}\n     */\n    hide() {\n        return new Promise((resolve) => {\n            this.objects.forEach((obj, index) => {\n                setTimeout(() => {\n                    const startScale = obj.scale.x;\n                    const animate = (startTime) => {\n                        const elapsed = performance.now() - startTime;\n                        const progress = Math.min(elapsed / 500, 1);\n\n                        obj.scale.setScalar(startScale * (1 - progress));\n\n                        if (progress >= 1) {\n                            obj.visible = false;\n                            if (index === this.objects.length - 1) {\n                                resolve();\n                            }\n                        } else {\n                            requestAnimationFrame(() => animate(startTime));\n                        }\n                    };\n\n                    requestAnimationFrame(() => animate(performance.now()));\n                }, index * 50);\n            });\n        });\n    }\n\n    /**\n     * Cleanup\n     */\n    dispose() {\n        window.removeEventListener('mousemove', this.handleMouseMove.bind(this));\n\n        // Dispose geometries and materials\n        this.objects.forEach((obj) => {\n            obj.geometry.dispose();\n            obj.material.dispose();\n            this.scene.remove(obj);\n        });\n\n        if (this.particleSystem) {\n            this.particleSystem.geometry.dispose();\n            this.particleSystem.material.dispose();\n            this.scene.remove(this.particleSystem);\n        }\n\n        if (this.techGroup) {\n            this.scene.remove(this.techGroup);\n        }\n\n        this.objects = [];\n        this.isInitialized = false;\n    }\n}\n","/**\n * PortfolioApp - Main application orchestrator\n * Coordinates all 3D systems and integrates with existing portfolio\n *\n * @enterprise-pattern Facade Pattern\n * @responsibility Application lifecycle, module orchestration\n */\n\nimport * as THREE from 'three';\nimport { SceneManager } from './core/SceneManager.js';\nimport { EventBus } from './core/EventBus.js';\nimport { PerformanceMonitor } from './core/PerformanceMonitor.js';\nimport { CameraController } from './cameras/CameraController.js';\nimport { LightingSystem } from './lighting/LightingSystem.js';\nimport { AssetManager } from './loaders/AssetManager.js';\nimport { HeroScene } from './components/HeroScene.js';\n\nexport class PortfolioApp {\n    constructor() {\n        // Core systems\n        this.sceneManager = SceneManager.getInstance();\n        this.eventBus = EventBus.getInstance();\n        this.performanceMonitor = PerformanceMonitor.getInstance();\n        this.assetManager = AssetManager.getInstance();\n\n        // Scene components\n        this.camera = null;\n        this.cameraController = null;\n        this.lightingSystem = null;\n        this.heroScene = null;\n\n        // State\n        this.isInitialized = false;\n        this.isRunning = false;\n\n        // Configuration\n        this.config = {\n            enableWebGPU: true,\n            enableShadows: true,\n            enablePostProcessing: false,\n            enablePerformanceMonitoring: true,\n            targetFPS: 60\n        };\n\n        // Bind methods\n        this.update = this.update.bind(this);\n        this.handleResize = this.handleResize.bind(this);\n        this.handleVisibilityChange = this.handleVisibilityChange.bind(this);\n    }\n\n    /**\n     * Initialize application\n     * @param {HTMLElement} container - Container for 3D renderer\n     * @returns {Promise<boolean>}\n     */\n    async initialize(container) {\n        if (this.isInitialized) {\n            console.warn('PortfolioApp already initialized');\n            return true;\n        }\n\n        try {\n            console.log('ðŸš€ Initializing PortfolioApp...');\n\n            // Initialize scene manager\n            await this.sceneManager.initialize(container, {\n                antialias: true,\n                alpha: true,\n                powerPreference: 'high-performance'\n            });\n\n            // Create camera\n            this.createCamera();\n\n            // Setup lighting\n            this.setupLighting();\n\n            // Load assets\n            await this.loadAssets();\n\n            // Initialize hero scene\n            await this.initializeHeroScene();\n\n            // Setup event listeners\n            this.setupEventListeners();\n\n            // Start render loop\n            this.start();\n\n            this.isInitialized = true;\n            this.eventBus.emit('app:initialized');\n\n            console.log('âœ… PortfolioApp initialized successfully');\n            return true;\n\n        } catch (error) {\n            console.error('âŒ Failed to initialize PortfolioApp:', error);\n            this.eventBus.emit('app:error', { error });\n            return false;\n        }\n    }\n\n    /**\n     * Create and configure camera\n     */\n    createCamera() {\n        const aspect = window.innerWidth / window.innerHeight;\n        this.camera = new THREE.PerspectiveCamera(75, aspect, 0.1, 1000);\n\n        // Initial camera position\n        this.camera.position.set(0, 0, 15);\n        this.camera.lookAt(0, 0, 0);\n\n        // Create camera controller\n        this.cameraController = new CameraController(this.camera, {\n            parallax: true,\n            parallaxStrength: 0.05,\n            smoothing: 0.1,\n            scrollControlled: true\n        });\n\n        // Set active camera in scene manager\n        this.sceneManager.setActiveCamera(this.camera);\n    }\n\n    /**\n     * Setup lighting system\n     */\n    setupLighting() {\n        this.lightingSystem = new LightingSystem(this.sceneManager.scene, {\n            showHelpers: false\n        });\n\n        // Apply dramatic lighting preset\n        this.lightingSystem.applyPreset('DRAMATIC');\n    }\n\n    /**\n     * Load required assets\n     * @returns {Promise}\n     */\n    async loadAssets() {\n        console.log('ðŸ“¦ Loading assets...');\n\n        // Define assets to load (if any)\n        const assets = [\n            // Add texture/model assets here as needed\n            // { type: 'texture', name: 'gradient', url: '/textures/gradient.jpg' }\n        ];\n\n        if (assets.length > 0) {\n            await this.assetManager.loadAssets(assets);\n        }\n\n        console.log('âœ… Assets loaded');\n    }\n\n    /**\n     * Initialize hero scene component\n     * @returns {Promise}\n     */\n    async initializeHeroScene() {\n        console.log('ðŸŽ¨ Initializing hero scene...');\n\n        this.heroScene = new HeroScene(this.sceneManager.scene, {\n            techStack: [\n                { name: 'Python', color: 0x3776ab, shape: 'sphere' },\n                { name: 'C++', color: 0x00599c, shape: 'box' },\n                { name: 'JavaScript', color: 0xf7df1e, shape: 'octahedron' },\n                { name: 'PyTorch', color: 0xee4c2c, shape: 'torus' },\n                { name: 'SQL', color: 0x336791, shape: 'cylinder' },\n                { name: 'Git', color: 0xf05032, shape: 'dodecahedron' },\n                { name: 'HTML/CSS', color: 0xe34c26, shape: 'cone' }\n            ]\n        });\n\n        await this.heroScene.initialize();\n        await this.heroScene.show();\n\n        console.log('âœ… Hero scene initialized');\n    }\n\n    /**\n     * Setup application event listeners\n     */\n    setupEventListeners() {\n        // Window resize\n        window.addEventListener('resize', this.handleResize);\n\n        // Visibility change (pause when hidden)\n        document.addEventListener('visibilitychange', this.handleVisibilityChange);\n\n        // Scroll events\n        window.addEventListener('scroll', () => {\n            const scrollY = window.scrollY;\n            this.eventBus.emit('scroll:update', { scrollY });\n        });\n\n        // Performance monitoring\n        if (this.config.enablePerformanceMonitoring) {\n            this.eventBus.on('performance:quality-changed', (data) => {\n                console.log(`ðŸŽ¯ Quality changed to ${data.quality}`);\n                this.handleQualityChange(data);\n            });\n\n            this.eventBus.on('performance:memory-warning', (data) => {\n                console.warn('âš ï¸ Memory usage high:', data);\n            });\n        }\n\n        // Scene events\n        this.eventBus.on('scene:render', ({ time }) => {\n            this.update(time);\n        });\n    }\n\n    /**\n     * Handle window resize\n     */\n    handleResize() {\n        if (!this.camera) return;\n\n        const aspect = window.innerWidth / window.innerHeight;\n        this.camera.aspect = aspect;\n        this.camera.updateProjectionMatrix();\n    }\n\n    /**\n     * Handle visibility change (tab switching)\n     */\n    handleVisibilityChange() {\n        if (document.hidden) {\n            this.pause();\n        } else {\n            this.resume();\n        }\n    }\n\n    /**\n     * Handle quality change\n     * @param {Object} data\n     */\n    handleQualityChange(data) {\n        const settings = data.settings;\n\n        // Update renderer pixel ratio\n        if (this.sceneManager.renderer) {\n            this.sceneManager.renderer.setPixelRatio(settings.pixelRatio);\n        }\n\n        // Update shadows\n        if (this.sceneManager.renderer) {\n            this.sceneManager.renderer.shadowMap.enabled = settings.shadows;\n        }\n\n        // Update particle count in hero scene\n        if (this.heroScene && this.heroScene.particleSystem) {\n            // Recreate particle system with new count\n            // Implementation depends on your needs\n        }\n    }\n\n    /**\n     * Update loop (called each frame)\n     * @param {number} time\n     */\n    update(time) {\n        if (!this.isRunning) return;\n\n        const deltaTime = time * 0.001; // Convert to seconds\n\n        // Update camera controller\n        if (this.cameraController) {\n            this.cameraController.update(deltaTime);\n        }\n\n        // Update hero scene\n        if (this.heroScene) {\n            this.heroScene.update(time);\n        }\n\n        // Update lighting helpers\n        if (this.lightingSystem) {\n            this.lightingSystem.updateHelpers();\n        }\n    }\n\n    /**\n     * Start application\n     */\n    start() {\n        if (this.isRunning) return;\n\n        this.sceneManager.resume();\n        this.isRunning = true;\n        this.eventBus.emit('app:started');\n\n        console.log('â–¶ï¸ PortfolioApp started');\n    }\n\n    /**\n     * Pause application\n     */\n    pause() {\n        if (!this.isRunning) return;\n\n        this.sceneManager.pause();\n        this.isRunning = false;\n        this.eventBus.emit('app:paused');\n\n        console.log('â¸ï¸ PortfolioApp paused');\n    }\n\n    /**\n     * Resume application\n     */\n    resume() {\n        if (this.isRunning) return;\n\n        this.sceneManager.resume();\n        this.isRunning = true;\n        this.eventBus.emit('app:resumed');\n\n        console.log('â–¶ï¸ PortfolioApp resumed');\n    }\n\n    /**\n     * Get application stats\n     * @returns {Object}\n     */\n    getStats() {\n        return {\n            renderer: this.sceneManager.getStats(),\n            performance: this.performanceMonitor.getReport(),\n            assets: this.assetManager.getStats()\n        };\n    }\n\n    /**\n     * Log stats to console\n     */\n    logStats() {\n        const stats = this.getStats();\n        console.table(stats.renderer);\n        console.table(stats.performance);\n        console.table(stats.assets);\n    }\n\n    /**\n     * Cleanup and destroy application\n     */\n    dispose() {\n        console.log('ðŸ§¹ Disposing PortfolioApp...');\n\n        // Pause rendering\n        this.pause();\n\n        // Dispose components\n        if (this.heroScene) {\n            this.heroScene.dispose();\n        }\n\n        if (this.lightingSystem) {\n            this.lightingSystem.dispose();\n        }\n\n        if (this.cameraController) {\n            this.cameraController.dispose();\n        }\n\n        // Dispose managers\n        this.assetManager.dispose();\n        this.sceneManager.dispose();\n\n        // Remove event listeners\n        window.removeEventListener('resize', this.handleResize);\n        document.removeEventListener('visibilitychange', this.handleVisibilityChange);\n\n        // Clear event bus\n        this.eventBus.clearAll();\n\n        this.isInitialized = false;\n        this.isRunning = false;\n\n        console.log('âœ… PortfolioApp disposed');\n    }\n}\n\n// Export singleton instance creator\nexport function createPortfolioApp() {\n    return new PortfolioApp();\n}\n","/**\n * Main entry point for Portfolio 3D Application\n * Initializes and bootstraps the immersive 3D experience\n */\n\nimport { createPortfolioApp } from './PortfolioApp.js';\n\n// Wait for DOM to be ready\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', init);\n} else {\n    init();\n}\n\n/**\n * Initialize application\n */\nasync function init() {\n    console.log('ðŸŽ¨ Initializing Portfolio 3D Experience...');\n\n    try {\n        // Create 3D canvas container\n        const container = createCanvasContainer();\n\n        // Create and initialize app\n        const app = createPortfolioApp();\n        const success = await app.initialize(container);\n\n        if (success) {\n            // Store app instance globally for debugging\n            window.portfolioApp = app;\n\n            // Setup debug commands\n            setupDebugCommands(app);\n\n            // Log stats periodically in development\n            if (process.env.NODE_ENV === 'development') {\n                setInterval(() => {\n                    console.log('ðŸ“Š Stats:', app.getStats());\n                }, 5000);\n            }\n\n            console.log('âœ¨ Portfolio 3D Experience ready!');\n        } else {\n            console.error('Failed to initialize 3D experience');\n            showFallback();\n        }\n\n    } catch (error) {\n        console.error('Error during initialization:', error);\n        showFallback();\n    }\n}\n\n/**\n * Create canvas container for 3D rendering\n * @returns {HTMLElement}\n */\nfunction createCanvasContainer() {\n    // Check if container already exists\n    let container = document.getElementById('three-canvas-container');\n\n    if (!container) {\n        // Create container\n        container = document.createElement('div');\n        container.id = 'three-canvas-container';\n        container.style.position = 'fixed';\n        container.style.top = '0';\n        container.style.left = '0';\n        container.style.width = '100%';\n        container.style.height = '100%';\n        container.style.zIndex = '-1';\n        container.style.pointerEvents = 'none';\n\n        // Insert at beginning of body\n        document.body.insertBefore(container, document.body.firstChild);\n    }\n\n    return container;\n}\n\n/**\n * Setup debug commands in console\n * @param {PortfolioApp} app\n */\nfunction setupDebugCommands(app) {\n    // Make debug commands available in console\n    window.debug = {\n        stats: () => app.logStats(),\n        pause: () => app.pause(),\n        resume: () => app.resume(),\n        quality: (level) => {\n            const monitor = app.performanceMonitor;\n            monitor.setQuality(level);\n            console.log(`Quality set to ${level}`);\n        },\n        toggleAutoQuality: () => {\n            const monitor = app.performanceMonitor;\n            const current = monitor.autoQualityAdjust;\n            monitor.setAutoQualityAdjust(!current);\n            console.log(`Auto quality: ${!current ? 'ON' : 'OFF'}`);\n        },\n        lighting: (preset) => {\n            app.lightingSystem.applyPreset(preset);\n            console.log(`Lighting preset: ${preset}`);\n        },\n        dispose: () => app.dispose()\n    };\n\n    console.log(`\nðŸŽ® Debug Commands Available:\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\ndebug.stats()           - Show performance stats\ndebug.pause()           - Pause rendering\ndebug.resume()          - Resume rendering\ndebug.quality('HIGH')   - Set quality (HIGH/MEDIUM/LOW)\ndebug.toggleAutoQuality() - Toggle auto quality adjustment\ndebug.lighting('DRAMATIC') - Change lighting preset\ndebug.dispose()         - Cleanup app\n\nPresets: DEFAULT, DRAMATIC, SUNSET, NEON\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n    `);\n}\n\n/**\n * Show 2D fallback if 3D fails\n */\nfunction showFallback() {\n    console.log('ðŸ“± Showing 2D fallback experience');\n\n    // Remove loading indicator if exists\n    const loader = document.getElementById('three-loader');\n    if (loader) {\n        loader.remove();\n    }\n\n    // Ensure existing 2D content is visible\n    const container = document.querySelector('.container');\n    if (container) {\n        container.style.opacity = '1';\n    }\n\n    // Show notification to user\n    const notification = document.createElement('div');\n    notification.style.cssText = `\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background: rgba(0, 0, 0, 0.8);\n        color: white;\n        padding: 15px 20px;\n        border-radius: 8px;\n        font-family: 'Montserrat', sans-serif;\n        font-size: 14px;\n        z-index: 10000;\n        backdrop-filter: blur(10px);\n    `;\n    notification.textContent = '3D features unavailable. Showing 2D experience.';\n    document.body.appendChild(notification);\n\n    // Remove notification after 5 seconds\n    setTimeout(() => {\n        notification.style.transition = 'opacity 0.5s';\n        notification.style.opacity = '0';\n        setTimeout(() => notification.remove(), 500);\n    }, 5000);\n}\n\n/**\n * Handle page unload\n */\nwindow.addEventListener('beforeunload', () => {\n    if (window.portfolioApp) {\n        window.portfolioApp.dispose();\n    }\n});\n","// Initial Name Animation\nfunction animateInitialName() {\n    const prominentLetters = document.querySelectorAll('#initial-name .prominent');\n    prominentLetters.forEach((letter, index) => {\n        setTimeout(() => {\n            letter.style.animationDelay = `${index * 0.2}s`;\n        }, 0);\n    });\n\n    setTimeout(() => {\n        fadeOutInitialName();\n    }, prominentLetters.length * 170 + 1500);\n}\n\nfunction fadeOutInitialName() {\n    document.querySelector('.container').classList.add('fade-in');\n    const initialName = document.getElementById('initial-name');\n    initialName.style.opacity = '0';\n    setTimeout(() => {\n        initialName.style.display = 'none';\n    }, 1000);\n}\n\n// Line Symbol Container Animation\nfunction handleLineSymbolContainers() {\n    const containers = document.querySelectorAll('.line-symbol-container:not(.lets-connect-section .line-symbol-container)');\n    const windowHeight = window.innerHeight;\n    const scrollY = window.scrollY || window.pageYOffset;\n\n    containers.forEach(container => {\n        animateContainer(container, windowHeight, scrollY);\n    });\n}\n\nfunction animateContainer(container, windowHeight, scrollY) {\n    const containerPosition = container.getBoundingClientRect().top + scrollY;\n    const containerVisiblePosition = windowHeight - 150;\n\n    if (scrollY > containerPosition - containerVisiblePosition) {\n        container.style.opacity = 1;\n        container.style.transform = 'translateY(0)';\n        rotateUnicodeSymbols(container, scrollY, containerPosition, containerVisiblePosition);\n    } else {\n        container.style.opacity = 0;\n        container.style.transform = 'translateY(20px)';\n    }\n}\n\nfunction rotateUnicodeSymbols(container, scrollY, containerPosition, containerVisiblePosition) {\n    const unicodeSymbols = container.querySelectorAll('.unicode-symbol');\n    unicodeSymbols.forEach(symbol => {\n        const rotationDegree = (scrollY - containerPosition + containerVisiblePosition) * 2;\n        symbol.style.transform = `rotate(${rotationDegree}deg)`;\n    });\n}\n\n// Fade-in Scroll Animation\nfunction handleFadeInScroll() {\n    const elements = document.querySelectorAll('.fade-in-scroll:not(.lets-connect-section .fade-in-scroll)');\n    elements.forEach(element => {\n        animateElementOnScroll(element);\n    });\n}\n\nfunction animateElementOnScroll(element) {\n    const position = element.getBoundingClientRect();\n\n    if(position.top < window.innerHeight && position.bottom >= 0) {\n        element.style.opacity = '1';\n        element.style.transform = 'translateY(0)';\n        element.style.transition = 'opacity 0.5s ease-out, transform 0.5s ease-out';\n    } else {\n        element.style.opacity = '0';\n        element.style.transform = 'translateY(20px)';\n    }\n}\n\n// Project Items Animation\nfunction handleProjectItems() {\n    const projectItems = document.querySelectorAll('.project-section:not(.lets-connect-section .project-section)');\n    const windowHeight = window.innerHeight;\n\n    projectItems.forEach((item, index) => {\n        animateProjectItem(item, index, windowHeight);\n    });\n}\n\nfunction animateProjectItem(item, index, windowHeight) {\n    const position = item.getBoundingClientRect();\n    const isVisible = position.top < windowHeight;\n\n    if (isVisible) {\n        const zIndex = 90 - index;\n        const translateY = Math.max(-30, -position.top * 0.05);\n        const scale = 1 - Math.max(0, position.top * 0.0005);\n        item.style.transform = `translateY(${translateY}px) scale(${scale})`;\n        item.style.zIndex = zIndex;\n        item.style.boxShadow = '0 10px 20px rgba(0,0,0,0.2)';\n    } else {\n        item.style.transform = 'translateY(30px) scale(0.9)';\n        item.style.zIndex = 'auto';\n        item.style.boxShadow = 'none';\n    }\n}\n\n// Function for nav bar to change color as scroll\nfunction changeHeaderOnScroll() {\n    const header = document.querySelector('header');\n    const scrollPosition = window.scrollY || document.documentElement.scrollTop;\n\n    if (scrollPosition > 80) { // Change '50' to the scroll position you prefer\n        header.style.backgroundColor = 'rgba(0, 0, 0, 0.9)'; // Semi-opaque background\n    } else {\n        header.style.backgroundColor = 'rgba(255, 255, 255, 0)'; // Transparent background\n    }\n}\n\n\n\n// Custom Cursor\nfunction initCustomCursor() {\n    const cursorDot = document.querySelector('.cursor-dot');\n    const cursorOutline = document.querySelector('.cursor-outline');\n\n    let mouseX = 0, mouseY = 0;\n    let outlineX = 0, outlineY = 0;\n\n    document.addEventListener('mousemove', (e) => {\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n\n        cursorDot.style.left = mouseX + 'px';\n        cursorDot.style.top = mouseY + 'px';\n    });\n\n    // Smooth follow effect for outline\n    function animateOutline() {\n        outlineX += (mouseX - outlineX) * 0.15;\n        outlineY += (mouseY - outlineY) * 0.15;\n\n        cursorOutline.style.left = outlineX + 'px';\n        cursorOutline.style.top = outlineY + 'px';\n\n        requestAnimationFrame(animateOutline);\n    }\n    animateOutline();\n\n    // Hover effects\n    const hoverElements = document.querySelectorAll('a, button, .magnetic-btn, .tech-item');\n    hoverElements.forEach(el => {\n        el.addEventListener('mouseenter', () => {\n            cursorDot.classList.add('hover');\n            cursorOutline.classList.add('hover');\n        });\n        el.addEventListener('mouseleave', () => {\n            cursorDot.classList.remove('hover');\n            cursorOutline.classList.remove('hover');\n        });\n    });\n}\n\n// Magnetic Button Effect\nfunction initMagneticButtons() {\n    const magneticBtns = document.querySelectorAll('.magnetic-btn');\n\n    magneticBtns.forEach(btn => {\n        btn.addEventListener('mousemove', (e) => {\n            const rect = btn.getBoundingClientRect();\n            const x = e.clientX - rect.left - rect.width / 2;\n            const y = e.clientY - rect.top - rect.height / 2;\n\n            btn.style.transform = `translate(${x * 0.3}px, ${y * 0.3}px)`;\n        });\n\n        btn.addEventListener('mouseleave', () => {\n            btn.style.transform = 'translate(0, 0)';\n        });\n    });\n}\n\n// Reveal Sections on Scroll\nfunction revealSections() {\n    const sections = document.querySelectorAll('.reveal-section');\n\n    const observer = new IntersectionObserver((entries) => {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                entry.target.classList.add('revealed');\n            }\n        });\n    }, {\n        threshold: 0.15\n    });\n\n    sections.forEach(section => observer.observe(section));\n}\n\n// Enhanced Header Scroll Effect\nfunction enhanceHeaderScroll() {\n    const header = document.querySelector('header');\n\n    window.addEventListener('scroll', () => {\n        if (window.scrollY > 100) {\n            header.classList.add('scrolled');\n        } else {\n            header.classList.remove('scrolled');\n        }\n    });\n}\n\n// Smooth Scroll for Navigation\nfunction initSmoothScroll() {\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        anchor.addEventListener('click', function (e) {\n            const href = this.getAttribute('href');\n            if (href !== '#' && href.length > 1) {\n                e.preventDefault();\n                const target = document.querySelector(href);\n                if (target) {\n                    target.scrollIntoView({\n                        behavior: 'smooth',\n                        block: 'start'\n                    });\n                }\n            }\n        });\n    });\n}\n\n// Parallax Effect for Background\nfunction initParallax() {\n    window.addEventListener('scroll', () => {\n        const scrolled = window.pageYOffset;\n        const parallaxElements = document.querySelectorAll('.background-image');\n\n        parallaxElements.forEach(el => {\n            const speed = 0.5;\n            el.style.transform = `translateY(${scrolled * speed}px)`;\n        });\n    });\n}\n\n// Event Listeners\nwindow.onload = () => {\n    animateInitialName();\n    initCustomCursor();\n    initMagneticButtons();\n    revealSections();\n    enhanceHeaderScroll();\n    initSmoothScroll();\n    initParallax();\n};\n\nwindow.addEventListener('scroll', () => {\n    handleLineSymbolContainers();\n    handleFadeInScroll();\n    handleProjectItems();\n    changeHeaderOnScroll();\n});\n\n"],"names":["CameraController","constructor","camera","options","this","eventBus","EventBus","getInstance","fov","near","far","smoothing","targetPosition","THREE.Vector3","targetLookAt","currentLookAt","scrollSensitivity","isScrollControlled","scrollControlled","activePath","pathProgress","isPlayingPath","enableParallax","parallax","parallaxStrength","mousePosition","THREE.Vector2","position","copy","lookAt","setupEventListeners","window","addEventListener","handleMouseMove","bind","handleScroll","event","x","clientX","innerWidth","y","clientY","innerHeight","scrollY","emit","moveTo","duration","Promise","resolve","startTime","performance","now","startPosition","clone","animate","currentTime","elapsed","progress","Math","min","eased","pow","lerpVectors","requestAnimationFrame","lookAtSmooth","target","startLookAt","createCinematicPath","curve","lookAtPoints","playCinematicPath","pathDuration","getPoint","length","lookAtIndex","floor","stopCinematicPath","update","deltaTime","parallaxX","parallaxY","lerp","orbitAround","radius","speed","time","cos","z","sin","shake","intensity","originalPosition","random","reset","all","dispose","removeEventListener","LightingSystem","scene","lights","Map","lightHelpers","showHelpers","presets","DEFAULT","ambient","color","directional","castShadow","DRAMATIC","point","distance","SUNSET","hemisphere","skyColor","groundColor","NEON","currentPreset","createAmbientLight","name","light","THREE.AmbientLight","addLight","createDirectionalLight","THREE.DirectionalLight","shadow","mapSize","width","height","left","right","top","bottom","bias","helper","THREE.DirectionalLightHelper","add","set","createPointLight","THREE.PointLight","THREE.PointLightHelper","createSpotLight","THREE.SpotLight","angle","PI","penumbra","THREE.SpotLightHelper","createHemisphereLight","THREE.HemisphereLight","THREE.HemisphereLightHelper","removeLight","get","remove","delete","getLight","updateLight","properties","setHex","applyPreset","presetName","preset","clearLights","pos","Array","isArray","forEach","index","animateIntensity","targetIntensity","startIntensity","updateHelpers","clear","_AssetManager","instance","Error","textures","models","fonts","materials","textureLoader","THREE.TextureLoader","cubeTextureLoader","THREE.CubeTextureLoader","totalAssets","loadedAssets","failedAssets","loadingManager","THREE.LoadingManager","onLoadComplete","onProgress","onError","loadTexture","url","has","reject","load","texture","wrapS","wrapT","repeat","encoding","error","push","type","loadCubeTexture","urls","createProceduralTexture","generator","canvas","THREE.CanvasTexture","cacheMaterial","material","getMaterial","loadAssets","assets","promises","map","asset","getLoadedAssets","getProgress","isComplete","total","loaded","failed","itemsLoaded","itemsTotal","clearAsset","clearAll","getStats","size","AssetManager","HeroScene","objects","particleSystem","techStack","shape","animationConfig","floatSpeed","rotationSpeed","mouseInfluence","isInitialized","initialize","createTechStackObjects","createParticleSystem","group","THREE.Group","tech","geometry","createGeometry","THREE.MeshStandardMaterial","roughness","metalness","emissive","emissiveIntensity","mesh","THREE.Mesh","rotation","userData","initialPosition","floatOffset","receiveShadow","techGroup","THREE.SphereGeometry","THREE.BoxGeometry","THREE.OctahedronGeometry","THREE.TorusGeometry","THREE.CylinderGeometry","THREE.DodecahedronGeometry","THREE.ConeGeometry","particleCount","THREE.BufferGeometry","positions","Float32Array","colors","THREE.Color","i","i3","theta","phi","setHSL","r","g","b","setAttribute","THREE.BufferAttribute","THREE.PointsMaterial","vertexColors","transparent","opacity","blending","THREE.AdditiveBlending","THREE.Points","on","data","scrollProgress","obj","show","setTimeout","visible","scale","setScalar","hide","startScale","PortfolioApp","sceneManager","SceneManager","performanceMonitor","PerformanceMonitor","assetManager","cameraController","lightingSystem","heroScene","isRunning","config","enableWebGPU","enableShadows","enablePostProcessing","enablePerformanceMonitoring","targetFPS","handleResize","handleVisibilityChange","container","antialias","alpha","powerPreference","createCamera","setupLighting","initializeHeroScene","start","aspect","THREE.PerspectiveCamera","setActiveCamera","document","handleQualityChange","updateProjectionMatrix","hidden","pause","resume","settings","renderer","setPixelRatio","pixelRatio","shadowMap","enabled","shadows","getReport","logStats","async","init","getElementById","createElement","id","style","zIndex","pointerEvents","body","insertBefore","firstChild","createCanvasContainer","app","portfolioApp","debug","stats","quality","level","setQuality","toggleAutoQuality","monitor","current","autoQualityAdjust","setAutoQualityAdjust","lighting","setupDebugCommands","showFallback","loader","querySelector","notification","cssText","textContent","appendChild","transition","animateInitialName","prominentLetters","querySelectorAll","letter","animationDelay","classList","initialName","display","fadeOutInitialName","handleLineSymbolContainers","containers","windowHeight","pageYOffset","containerPosition","getBoundingClientRect","containerVisiblePosition","transform","unicodeSymbols","symbol","rotationDegree","rotateUnicodeSymbols","animateContainer","handleFadeInScroll","element","animateElementOnScroll","handleProjectItems","projectItems","item","isVisible","translateY","max","boxShadow","animateProjectItem","readyState","onload","cursorDot","cursorOutline","mouseX","mouseY","outlineX","outlineY","e","animateOutline","el","initCustomCursor","btn","rect","sections","observer","IntersectionObserver","entries","entry","isIntersecting","threshold","section","observe","revealSections","header","enhanceHeaderScroll","anchor","href","getAttribute","preventDefault","scrollIntoView","behavior","block","scrolled","scrollPosition","documentElement","scrollTop","backgroundColor","changeHeaderOnScroll"],"mappings":"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"}